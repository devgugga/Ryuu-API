#!/bin/bash

commit_msg=$(cat "$1")
gitmoji_pattern="^(ğŸ’«|âœ¨|ğŸ›|ğŸ“|â™»ï¸|ğŸ¨|âš¡ï¸|ğŸ”¥|â¬†ï¸|â¬‡ï¸|â•|â–|âœ…|ğŸ’š|ğŸ‘·|ğŸ’„|ğŸš¸|â™¿ï¸|ğŸ—ï¸|ğŸ—ƒï¸|ğŸ”’ï¸|ğŸ”§|ğŸ“±|ğŸ’¡|ğŸš§).*$"

if ! [[ $commit_msg =~ $gitmoji_pattern ]]; then
    echo "âŒ Commit message must start with a gitmoji!"
    echo "ğŸ‘‰ Use 'gitmoji -c' to commit"
    exit 1
fi