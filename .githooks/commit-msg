#!/bin/bash

commit_msg=$(cat "$1")
gitmoji_pattern="^(ğŸ’«|âœ¨|ğŸ›|ğŸ“|â™»ï¸|ğŸ¨|âš¡ï¸|ğŸ”¥|â¬†ï¸|â¬‡ï¸|â•|â–|âœ…|ğŸ’š|ğŸ‘·|ğŸ’„|ğŸš¸|â™¿ï¸|ğŸ—ï¸|ğŸ—ƒï¸|ğŸ”’ï¸|ğŸ”§|ğŸ“±|ğŸ’¡|ğŸš§|âœï¸).*$"

if ! [[ $commit_msg =~ $gitmoji_pattern ]]; then
    echo "âŒ Commit message must start with a gitmoji!"
    echo "ğŸ‘‰ Use 'gitmoji -c' to commit"
    echo "Available gitmojis:"
    echo "âœ¨ :sparkles: Nova funcionalidade"
    echo "ğŸ› :bug: CorreÃ§Ã£o de bug"
    echo "ğŸ“ :memo: DocumentaÃ§Ã£o"
    echo "â™»ï¸ :recycle: RefatoraÃ§Ã£o"
    echo "ğŸ¨ :art: FormataÃ§Ã£o"
    echo "âœï¸ :pencil2: CorreÃ§Ã£o de typo"
    echo "âš¡ï¸ :zap: Performance"
    echo "ğŸ”¥ :fire: Remove cÃ³digo"
    echo "âœ… :white_check_mark: Testes"
    echo "ğŸ”’ :lock: SeguranÃ§a"
    echo "ğŸ—ƒï¸ :card_file_box: Database"
    echo "... e outros"
    exit 1
fi